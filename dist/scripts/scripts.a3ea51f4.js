angular.module("imagesGalleryApp.templates",[]).run(["$templateCache",function(a){"use strict";a.put("scripts/common/directives/cube-page/cube-page.tpl.html",'<div class="center-text"> <div class="nav-button--prev" ng-disabled="loading" ng-click="prevPage()"> Prev Page</div> <div class="nav-button--next" ng-disabled="loading" ng-click="nextPage()"> Next Page</div> <div class="cube-page" ng-class="{\'cube-page--current\': key === current }" ng-repeat="(key, mediaPage) in mediaPages" ng-animate> <div class="cube-page__item" ng-class="{\'cube-page__item--small\': obtainClass(mediaPage.indexOf(image))}" ng-repeat="image in ::mediaPage.images"> <div class="cube-page__item-wrapper"> <image-holder src="image.imageUrl"> </image-holder> <div class="cube-page__text"> <div class="page__text--owner">{{image.owner}}</div> <div class="page__text--description">{{image.description}}</div> </div> </div> </div> <loading-overlay loading="loading"> </loading-overlay> </div> </div>'),a.put("scripts/common/directives/image-holder/image-holder.tpl.html",'<div class="image-holder" ng-class="!isLoaded && holderClass"> <img class="image-holder__item" ng-src="{{src}}" ng-show="isLoaded" ng-class="[ isLoaded ? \'image-holder__item--loaded\' : \'\' , fullSize]"> <div ng-hide="isLoaded" ng-class="{\'image-holder__no-item--loaded\': isLoaded }" class="image-holder__no-item center-block"> <span class="fa fa-2x fa-refresh fa-spin center"></span> </div> </div>'),a.put("scripts/common/directives/loading-overlay/loading-overlay.tpl.html",'<div ng-if="loading" class="loading-overlay center-block"> <span class="fa fa-4x fa-refresh fa-spin center"></span> </div>'),a.put("scripts/cube-gallery/cube-gallery.html",'<div> <cube-page media-pages="mediaPages" current="currentPageIndex" loading="loading" prev-page="prevPage" next-page="nextPage"> </cube-page> </div>'),a.put("scripts/main/main.html",'<div class="main-menu center-block">Menu</div> <div class="main-content" ui-view=""></div> <div class="main-footer center-block center-text"> <span>Images are property of freeimages if you want to use them please go to: </span><a href="http://www.freeimages.co.uk" rel="nofollow" target="_top" title="Click for the some of the best free photos on the web">Free Stock Photos</a> </div>')}]),angular.module("imagesGalleryApp",["imagesGalleryApp.templates","ngAnimate","ngCookies","ngResource","ngSanitize","ngTouch","ui.router","imagesGalleryApp.main","imagesGalleryApp.cubeGallery","imagesGalleryApp.directives","imagesGalleryApp.services"]).config(["$stateProvider","$urlRouterProvider",function(a,b){b.otherwise("/main/cubeGallery"),a.state("main",{url:"/main",templateUrl:"scripts/main/main.html",controller:"MainCtrl"}),a.state("main.cubeGallery",{url:"/cubeGallery",templateUrl:"scripts/cube-gallery/cube-gallery.html",controller:"CubeGalleryCtrl",parent:"main"}),a.state("about",{url:"/about",templateUrl:"scripts/about/about.html"})}]),angular.module("imagesGalleryApp").controller("AppCtrl",function(){}),angular.module("imagesGalleryApp.main",[]),angular.module("imagesGalleryApp.main").controller("MainCtrl",function(){}),angular.module("imagesGalleryApp.cubeGallery",["imagesGalleryApp.services.imageService"]),angular.module("imagesGalleryApp.cubeGallery").controller("CubeGalleryCtrl",["$scope","imageService",function(a,b){function c(c){var d=a.currentPageIndex+c;a.mediaPages[a.currentPageIndex+c]?a.currentPageIndex=d:(a.loading=!0,b.getImages(d,a.results).then(function(b){var c;b.length&&(c={images:b,index:d},a.mediaPages[d]=c,a.currentPageIndex=d),a.loading=!1}))}a.currentPageIndex=0,a.mediaPages=[],a.loading=!0,a.results=10,a.nextPage=_.partial(c,1),a.prevPage=_.partial(c,-1),a.firstPage=_.partial(c,-1*a.currentPageIndex),a.currentPage=_.partial(c,0),b.getImages(0,a.results).then(function(b){var c={images:b,index:0};a.mediaPages[0]=c,a.loading=!1})}]),angular.module("imagesGalleryApp.directives.cubePage",[]).directive("cubePage",function(){return{restrict:"E",templateUrl:"scripts/common/directives/cube-page/cube-page.tpl.html",replace:!0,scope:{mediaPages:"=",prevPage:"=",nextPage:"=",current:"=",loading:"="}}}),angular.module("imagesGalleryApp.directives.imageHolder",[]).directive("imageHolder",function(){function a(a){return a.width>a.height?"full-height":"full-width"}return{restrict:"E",templateUrl:"scripts/common/directives/image-holder/image-holder.tpl.html",replace:!0,scope:{src:"=",holderClass:"@"},link:function(b,c){var d=c.find("img");d.on("load",function(c){b.$apply(function(){b.fullSize=a(c.target),b.isLoaded=!0})}),b.$on("$destroy",function(){d.off("load")})}}}),angular.module("imagesGalleryApp.directives.loadingOverlay",[]).directive("loadingOverlay",function(){return{restrict:"E",templateUrl:"scripts/common/directives/loading-overlay/loading-overlay.tpl.html",replace:!0,scope:{loading:"="}}}),angular.module("imagesGalleryApp.directives",["imagesGalleryApp.directives.imageHolder","imagesGalleryApp.directives.loadingOverlay","imagesGalleryApp.directives.cubePage"]),angular.module("imagesGalleryApp.services.imageService",[]).factory("imageService",["$resource",function(a){function b(a,b){return d.getImages({page:a||0,results:b||10}).$promise.then(function(a){return a.images})}var c="/services/images",d=a(c,{},{getImages:{cache:!1,method:"GET",responseType:"json"}});return{getImages:b}}]),angular.module("imagesGalleryApp.services",["imagesGalleryApp.services.imageService"]);